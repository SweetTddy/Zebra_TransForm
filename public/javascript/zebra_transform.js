(function(g){g.Zebra_TransForm=function(f,p){var s={style_disabled_labels:!0},k=this;k.settings={};k.update=function(d){d.each(function(){var a=g(this),d=this,e=a.is("input:checkbox")?"checkbox":a.is("input:radio")?"radio":a.is("select")?"select":!1;if(e){var e=e.charAt(0).toUpperCase()+e.slice(1),c=a.data("Zebra_TransForm_"+e),f=a.attr("checked"),m=a.attr("disabled"),b=a.attr("multiple"),h=a.attr("size");if("Select"!=e||!b&&!h){c&&c.remove();b={width:a.outerWidth(),height:a.outerHeight(),marginLeft:parseInt(a.css("marginLeft"), 10)||0,marginTop:parseInt(a.css("marginTop"),10)||0};h=jQuery("<span>",{"class":"Zebra_TransForm_Wrapper"}).css({display:a.css("display"),position:"static"==a.css("position")?"relative":a.css("position"),"float":a.css("float"),top:a.css("top"),right:a.css("right"),bottom:a.css("bottom"),left:a.css("left"),width:a.css("width")});c=jQuery("<div>",{"class":"Zebra_TransForm_"+e}).css("visibility","hidden");a=a.replaceWith(h).appendTo(h).css({position:"relative",top:"auto",right:"auto",bottom:"auto",left:"auto"}); if("Select"!=e)c.append(jQuery("<div>",{"class":"Checkbox"==e?"Zebra_TransForm_Checkbox_Tick":"Zebra_TransForm_Radio_Dot"})).bind("click",function(){a.trigger("change")});else var r=jQuery("<div>",{"class":"Zebra_TransForm_Arrow"}).appendTo(c),n=jQuery("<div>",{"class":"Zebra_TransForm_Text"}).css({fontFamily:a.css("fontFamily"),fontSize:a.css("fontSize"),fontStyle:a.css("fontStyle"),fontWeight:a.css("fontWeight"),width:b.width}).text(d.options[d.selectedIndex].text).appendTo(c.css("background",a.css("background"))); c.insertAfter(a);if(h=a.data("events"))for(var q in h)for(var p in h[q])c[q](g.proxy(h[q][p].handler,a.get(0)));"Select"!=e?c.css({left:(b.width-c.width())/2+b.marginLeft,top:(b.height-c.height())/2+b.marginTop}).addClass((f&&!m?"Zebra_TransForm_"+e+"_Checked":"")+(m&&!f?"Zebra_TransForm_"+e+"_Disabled":"")+(m&&f?" Zebra_TransForm_"+e+"_Checked_Disabled":"")):(m&&c.addClass("Zebra_TransForm_Select_Disabled"),g.extend(b,{paddingTop:parseInt(a.css("paddingTop"),10)||0,paddingRight:parseInt(a.css("paddingRight"), 10)||0,paddingBottom:parseInt(a.css("paddingBottom"),10)||0,paddingLeft:parseInt(a.css("paddingLeft"),10)||0}),a.css("z-index",20),"explorer"==l.name&&7==l.version&&(a.css({marginTop:b.paddingTop,marginBottom:b.paddingBottom,marginLeft:b.paddingLeft,marginRight:b.paddingRight}),b.height+=b.paddingTop+b.paddingBottom,b.width+=b.paddingLeft+b.paddingRight),c.css({left:b.marginLeft,top:b.marginTop,width:b.width-c.outerWidth(),height:b.height-c.outerHeight()}),r.css({top:(c.innerHeight()-r.outerHeight())/ 2,right:"safari"==l.name?0:b.paddingRight}),n.css({top:(c.innerHeight()-n.outerHeight())/2,left:b.paddingLeft}));a.bind({focus:function(){c.addClass("Zebra_TransForm_"+e+"_Focus")},blur:function(){c.removeClass("Zebra_TransForm_"+e+"_Focus")},change:function(){a.attr("disabled")||("Checkbox"==e?(c.toggleClass("Zebra_TransForm_Checkbox_Checked"),c.hasClass("Zebra_TransForm_Checkbox_Checked")?a.attr("checked","checked"):a.removeAttr("checked","checked")):"Radio"==e?(g("input:radio[name="+a.attr("name")+ "]").each(function(){var a=g(this);a.removeAttr("checked");a.data("Zebra_TransForm_Radio").removeClass("Zebra_TransForm_Radio_Checked")}),c.addClass("Zebra_TransForm_Radio_Checked"),a.attr("checked","checked")):n.html(d.options[d.selectedIndex].text))},keyup:function(a){"Select"==e&&n.text(d.options[d.selectedIndex].text)}}).css("opacity","0.0001").data("Zebra_TransForm_"+e,c);c.css("visibility","visible")}else"Select"==e&&(b||h)&&a.addClass(b||h?"Zebra_TransForm_List":"");(f=g('label[for="'+a.attr("id")+ '"]'))&&f.addClass(m&&k.settings.style_disabled_labels?"Zebra_TransForm_Label_Disabled":"")}})};var l={init:function(){this.name=this.searchString(this.dataBrowser)||"";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(d){for(var a=0;a<d.length;a++){var f=d[a].string,e=d[a].prop;this.versionSearchString=d[a].versionSearch||d[a].identity;if(f){if(-1!=f.indexOf(d[a].subString))return d[a].identity}else if(e)return d[a].identity}}, searchVersion:function(d){var a=d.indexOf(this.versionSearchString);if(-1!=a)return parseFloat(d.substring(a+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.vendor,subString:"Apple",identity:"safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};l.init();(function(){if("explorer"!=l.name||6!=l.version){k.settings=g.extend({},s,p);if(void 0==f||"function"!=typeof f.each)f=g('input[type="checkbox"], input[type="radio"], select'); k.update(f);g(window).bind("resize",function(){f.each(function(){var d=g(this);d.parent(".Zebra_TransForm_Wrapper").replaceWith(d)});k.update(f)})}})()}})(jQuery);